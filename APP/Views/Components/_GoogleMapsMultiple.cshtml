@model IEnumerable<CodeData_Connection.Models.Database.Entidade.Endereco>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBT6VVRMlElM3uC1bAm9KlmkoG6Kv88fMw&callback=initMap" async defer></script>

<div id="map" style="height: 50rem;"></div>

<script>
    function initMap() {
        const mapCenter = { lat: -22.926506007396114, lng: -47.075046998329476 };

        const mapa = new google.maps.Map(document.getElementById("map"), {
            zoom: 5,
            center: mapCenter
        });

        const locations = @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(Model));

        locations.forEach((location) => {

            var marcador = new google.maps.Marker({
                position: { lat: location.Localizacao.XCoordinate, lng: location.Localizacao.YCoordinate },
                map: mapa,
                title: 'Campinas, SP'
            });

        });
    }
</script>